<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>Predictive Information</title>

	<!-- Bootstrap core CSS -->
	<link href="css/bootstrap.css" rel="stylesheet" />

	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
		<script src="js/html5shiv.js"></script>
	<![endif]-->
	<!-- Custom styles for this template -->
	<link href="css/style.css" rel="stylesheet"/>
	<link href="css/sesh.css" rel="stylesheet"/>
	<style type="text/css">
	.md-modal .row {
		margin-top: 5px;
		margin-bottom: 5px;
	}
	#queryButton {
		margin-bottom: 0px !important;
		height: 34px;
	}
	.querytitle {
		line-height: 17px;
	}
	</style>
</head>
<body style="opacity: 1; margin-left: 0;">
<div class="container-fluid" style="padding: 0px; width: 100%">  <!-- 头部开始 -->
	<div class="page-head">
		<h2>Predictive Information</h2>
		<ol class="breadcrumb">
			<li><a></a></li>
			<li class="active">Predictive Information</li>
		</ol>
	</div>
</div>  <!-- 头部结束 -->

<div class="cl-mcont" style="width: 100%;">
	<div class="block-flat content">
		<div class="dataTables_wrapper form-inline">
			<div class="row">
				<div class="col-sm-12 col-md-12 col-lg-12">
					<div class="panel-group accordion-semi">
						<a href="index.html"><button class="btn btn-primary">中文</button></a>
					</div>
					<div class="panel-group accordion accordion-semi" id="accordion1">
					  <div class="panel panel-default">
						<div class="panel-heading">
						  <h4 class="panel-title">
							<a data-toggle="collapse" data-parent="#accordion1" href="#ac3-1">
								<i class="fa fa-angle-right"></i> ①
							</a>
						  </h4>
						</div>
						<div id="ac3-1" class="panel-collapse collapse in">
						  <div class="panel-body">
							<div class="row">
								<label class="col-sm-1 querytitle">D-dimer ug/mL</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_dErJvTi">
								</div>
								<label class="col-sm-1 querytitle">Procalcitonin(PCT) ng/ml</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_JiangGaiSuYuan">
								</div>
								<label class="col-sm-1 querytitle">BNP pg/ml</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_bXingNiaoSuNa">
								</div>
								<label class="col-sm-1 querytitle">αHBDH U/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_dingSuanTuiMei">
								</div>
							</div>
							<div class="row">
								<label class="col-sm-1 querytitle">Prealbumin mg/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_qianBaiDanBai">
								</div>
								<label class="col-sm-1 querytitle">Tumor burden (decimal)</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_yuanYouXiBao">
								</div>
								<label class="col-sm-1 querytitle">PT sec</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_xueJiangNingXueMeiYuanShiJian">
								</div>
								<label class="col-sm-1 querytitle">APTT sec</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_huoHuaBuFenNingXueMeiYuanShiJian">
								</div>
							</div>
							<div class="row">
								<label class="col-sm-1 querytitle">Fibrinogen g/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_xianWeiDanBaiYuan">
								</div>
							</div>
						  </div>
						</div>
					  </div>
					</div>	
					<div class="panel-group accordion" id="accordion2">
					  <div class="panel panel-default">
						<div class="panel-heading">
						  <h4 class="panel-title">
							<a data-toggle="collapse" data-parent="#accordion2" href="#collapseOne" class="collapsed">
								<i class="fa fa-angle-right"></i> ②
							</a>
						  </h4>
						</div>
						<div id="collapseOne" class="panel-collapse collapse" style="height: 0px;">
						  <div class="panel-body">
							<div class="row">
								<label class="col-sm-1 querytitle">Red blood cell e12/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_hongXiBao">
								</div>
								<label class="col-sm-1 querytitle">Hemoglobin g/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_xueHongDanBai">
								</div>
								<label class="col-sm-1 querytitle">White blood cells e9/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_baiXiBao">
								</div>
								<label class="col-sm-1 querytitle">Neutrophil percentage (decimal)</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_zhongXingLiXiBaoBaiFenBi">
								</div>
							</div>
							<div class="row">
								<label class="col-sm-1 querytitle">Neutrophil count e9/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_zhongXingLiXiBaoJiShu">
								</div>
								<label class="col-sm-1 querytitle">Lymphocyte percentage (decimal)</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_linBaXiBaoBaiFenBi">
								</div>
								<label class="col-sm-1 querytitle">Lymphocyte count e9/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_linBaXiBaoJiShu">
								</div>
								<label class="col-sm-1 querytitle">Platelets e9/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_xueXiaoBan">
								</div>
							</div>
							<div class="row">
								<label class="col-sm-1 querytitle">Monocyte percentage (decimal)</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_danHeXiBaoBaiFenBi">
								</div>
								<label class="col-sm-1 querytitle">Monocyte counts e9/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_danHeXiBaoJiShu">
								</div>
							</div>
						  </div>
						</div>
					  </div>
					</div>
					<div class="panel-group accordion accordion-semi" id="accordion3">
					  <div class="panel panel-default">
						<div class="panel-heading">
						  <h4 class="panel-title">
							<a data-toggle="collapse" data-parent="#accordion3" href="#ac3-2" class="collapsed">
								<i class="fa fa-angle-right"></i> ③
							</a>
						  </h4>
						</div>
						<div id="ac3-2" class="panel-collapse collapse">
						  <div class="panel-body">
							<div class="row">
								<label class="col-sm-1 querytitle">Sodium mmol/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_na">
								</div>
								<label class="col-sm-1 querytitle">Potassium mmol/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_jia">
								</div>
								<label class="col-sm-1 querytitle">Chlorine mmol/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_lv">
								</div>
								<label class="col-sm-1 querytitle">Calcium mmol/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_gai">
								</div>
							</div>
							<div class="row">
								<label class="col-sm-1 querytitle">Uric acid umol/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_niaoSuan">
								</div>
								<label class="col-sm-1 querytitle">Glucose mmol/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_puTaoTang">
								</div>
								<label class="col-sm-1 querytitle">Triglyceride mmol/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_ganYouSanZhi">
								</div>
								<label class="col-sm-1 querytitle">γ-GT U/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_guAnXianZhuanTaiMei">
								</div>
							</div>
							<div class="row">
								<label class="col-sm-1 querytitle">Albumin g/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_baiDanBai">
								</div>
								<label class="col-sm-1 querytitle">ALT U/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_guBingZhuanAnMei">
								</div>
								<label class="col-sm-1 querytitle">AST U/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_guCaoZhuanAnMei">
								</div>
								<label class="col-sm-1 querytitle">ALP U/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_jianXingLinSuanMei">
								</div>
							</div>
							<div class="row">
								<label class="col-sm-1 querytitle">lactic dehydrogenase U/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_ruSuanTuoQingMei">
								</div>
								<label class="col-sm-1 querytitle">Creatinine umol/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_jiGan">
								</div>
								<label class="col-sm-1 querytitle">CRP mg/L</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_cFanYingDanBai">
								</div>
								<label class="col-sm-1 querytitle">Ferritin ng/ml</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_tieDanBai">
								</div>
							</div>
						  </div>
						</div>
					  </div>
					</div>	
					<div class="panel-group accordion" id="accordion4">
					  <div class="panel panel-default">
						<div class="panel-heading">
						  <h4 class="panel-title">
							<a data-toggle="collapse" data-parent="#accordion4" href="#collapseTwo" class="collapsed">
								<i class="fa fa-angle-right"></i> ④
							</a>
						  </h4>
						</div>
						<div id="collapseTwo" class="panel-collapse collapse" style="height: 0px;">
						  <div class="panel-body">
							<div class="row">
								<label class="col-sm-1 querytitle">IL2pg/ml</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_il2">
								</div>
								<label class="col-sm-1 querytitle">IL4pg/ml</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_il4">
								</div>
								<label class="col-sm-1 querytitle">IL6pg/ml</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_il6">
								</div>
								<label class="col-sm-1 querytitle">IL10pg/ml</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_il10">
								</div>
							</div>
							<div class="row">
								<label class="col-sm-1 querytitle">TNFαpg/ml</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_tnfAerfa">
								</div>
								<label class="col-sm-1 querytitle">IFNγpg/ml</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_tnfGama">
								</div>
								<label class="col-sm-1 querytitle">IL17Apg/ml</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" style="width: 100%" id="q_il17a">
								</div>
							</div>
						  </div>
						</div>
					  </div>
					</div>	
				</div>
			</div>
			<!-- 查询框开始 -->
			
			<div class="row">
				<label class="col-sm-2 querytitle">Select the date:</label>
				<select class="col-sm-3 querytitle" id="q_date">
					<option value="明天">tomorrow</option>
					<option value="后天">the day after tomorrow</option>
					<option value="大后天">three days from now</option>
				</select>
				<button id="queryButton" class="btn btn-primary" onclick="doCalc();">confirm</button>
			</div>
			<div class="row">
				<label class="col-sm-2 querytitle">The output:</label>
				<div class="col-sm-10 col-md-10 col-lg-10">
					<input class="form-control" type="text" style="width: 100%" id="output" value="The probability of severe CRS">
				</div>
			</div>
			<div class="row">
				<label class="col-sm-2 desc">Input instructions:</label>
			</div>
			<div class="row">
				<label class="col-sm-2 desc"></label>
				<label class="col-sm-10 desc" style="text-align:left;">1.The number of entered data must be 5 or more to test. After completing the input, you can select tomorrow or the day after tomorrow or the day after tomorrow by clicking "OK" to start the prediction</label>
			</div>
			<div class="row">
				<label class="col-sm-2 desc"></label>
				<label class="col-sm-10 desc" style="text-align:left;">2.The model can give the probability that the patient will develop severe CRS (≥3) tomorrow, the day after tomorrow, and the day after tomorrow</label>
			</div>
			<div class="row">
				<label class="col-sm-2 desc"></label>
				<label class="col-sm-10 desc" style="text-align:left;">3.According to the effect of the model, the combination of predictions is suggested to be selected in order from high to low :1234, 123, 4, 23, 3, 2. Only one combination can be selected, for example :234 has data, because 4 is placed in front of 23 combination, so it is OK to choose 4 to predict, 2 and 3 can not be input</label>
			</div>
			<div class="row">
				<label class="col-sm-2 desc">Website:</label>
				<a class="col-sm-10" href="http://prediction.unicar-therapy.com/">http://prediction.unicar-therapy.com/</a>
			</div>
			<!-- 查询框结束 -->
		</div>
	</div>
</div>

<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script type="text/javascript">
var path="crs.do";

function doCalc() {
	var dErJvTi = $("#q_dErJvTi").val();
	var JiangGaiSuYuan = $("#q_JiangGaiSuYuan").val();
	var bXingNiaoSuNa = $("#q_bXingNiaoSuNa").val();
	var dingSuanTuiMei = $("#q_dingSuanTuiMei").val();
	var qianBaiDanBai = $("#q_qianBaiDanBai").val();
	var yuanYouXiBao = $("#q_yuanYouXiBao").val();
	var xueJiangNingXueMeiYuanShiJian = $("#q_xueJiangNingXueMeiYuanShiJian").val();
	var huoHuaBuFenNingXueMeiYuanShiJian = $("#q_huoHuaBuFenNingXueMeiYuanShiJian").val();
	var xianWeiDanBaiYuan = $("#q_xianWeiDanBaiYuan").val();
	var hongXiBao = $("#q_hongXiBao").val();
	var xueHongDanBai = $("#q_xueHongDanBai").val();
	var baiXiBao = $("#q_baiXiBao").val();
	var zhongXingLiXiBaoBaiFenBi = $("#q_zhongXingLiXiBaoBaiFenBi").val();
	var zhongXingLiXiBaoJiShu = $("#q_zhongXingLiXiBaoJiShu").val();
	var linBaXiBaoBaiFenBi = $("#q_linBaXiBaoBaiFenBi").val();
	var linBaXiBaoJiShu = $("#q_linBaXiBaoJiShu").val();
	var xueXiaoBan = $("#q_xueXiaoBan").val();
	var danHeXiBaoBaiFenBi = $("#q_danHeXiBaoBaiFenBi").val();
	var danHeXiBaoJiShu = $("#q_danHeXiBaoJiShu").val();
	var na = $("#q_na").val();
	var jia = $("#q_jia").val();
	var lv = $("#q_lv").val();
	var gai = $("#q_gai").val();
	var niaoSuan = $("#q_niaoSuan").val();
	var puTaoTang = $("#q_puTaoTang").val();
	var ganYouSanZhi = $("#q_ganYouSanZhi").val();
	var guAnXianZhuanTaiMei = $("#q_guAnXianZhuanTaiMei").val();
	var baiDanBai = $("#q_baiDanBai").val();
	var guBingZhuanAnMei = $("#q_guBingZhuanAnMei").val();
	var guCaoZhuanAnMei = $("#q_guCaoZhuanAnMei").val();
	var jianXingLinSuanMei = $("#q_jianXingLinSuanMei").val();
	var ruSuanTuoQingMei = $("#q_ruSuanTuoQingMei").val();
	var jiGan = $("#q_jiGan").val();
	var cFanYingDanBai = $("#q_cFanYingDanBai").val();
	var tieDanBai = $("#q_tieDanBai").val();
	var il2 = $("#q_il2").val();
	var il4 = $("#q_il4").val();
	var il6 = $("#q_il6").val();
	var il10 = $("#q_il10").val();
	var tnfAerfa = $("#q_tnfAerfa").val();
	var tnfGama = $("#q_tnfGama").val();
	var il17a = $("#q_il17a").val();
	var date = $("#q_date").val();
console.log(date);
	$.ajax({
		type : "post",
		async : false,
		url : path + "?caculator",
		dataType : "json",
		data: {
			"dErJvTi" : dErJvTi,
			"JiangGaiSuYuan" : JiangGaiSuYuan,
			"bXingNiaoSuNa" : bXingNiaoSuNa,
			"dingSuanTuiMei" : dingSuanTuiMei,
			"qianBaiDanBai" : qianBaiDanBai,
			"yuanYouXiBao" : yuanYouXiBao,
			"xueJiangNingXueMeiYuanShiJian" : xueJiangNingXueMeiYuanShiJian,
			"huoHuaBuFenNingXueMeiYuanShiJian" : huoHuaBuFenNingXueMeiYuanShiJian,
			"xianWeiDanBaiYuan" : xianWeiDanBaiYuan,
			"hongXiBao" : hongXiBao,
			"xueHongDanBai" : xueHongDanBai,
			"baiXiBao" : baiXiBao,
			"zhongXingLiXiBaoBaiFenBi" : zhongXingLiXiBaoBaiFenBi,
			"zhongXingLiXiBaoJiShu" : zhongXingLiXiBaoJiShu,
			"linBaXiBaoBaiFenBi" : linBaXiBaoBaiFenBi,
			"linBaXiBaoJiShu" : linBaXiBaoJiShu,
			"xueXiaoBan" : xueXiaoBan,
			"danHeXiBaoBaiFenBi" : danHeXiBaoBaiFenBi,
			"danHeXiBaoJiShu" : danHeXiBaoJiShu,
			"na" : na,
			"jia" : jia,
			"lv" : lv,
			"gai" : gai,
			"niaoSuan" : niaoSuan,
			"puTaoTang" : puTaoTang,
			"ganYouSanZhi" : ganYouSanZhi,
			"guAnXianZhuanTaiMei" : guAnXianZhuanTaiMei,
			"baiDanBai" : baiDanBai,
			"guBingZhuanAnMei" : guBingZhuanAnMei,
			"guCaoZhuanAnMei" : guCaoZhuanAnMei,
			"jianXingLinSuanMei" : jianXingLinSuanMei,
			"ruSuanTuoQingMei" : ruSuanTuoQingMei,
			"jiGan" : jiGan,
			"cFanYingDanBai" : cFanYingDanBai,
			"tieDanBai" : tieDanBai,
			"il2" : il2,
			"il4" : il4,
			"il6" : il6,
			"il10" : il10,
			"tnfAerfa" : tnfAerfa,
			"tnfGama" : tnfGama,
			"il17a" : il17a,
			"date" : date
		},
		beforeSend: function() {
			$("#queryButton").attr({ disabled: "disabled" });
		},
		success : function(data) {
			console.log(data);
			if(data.result == "success"){
				$("#output").val(data.des);
			}else {
				alert(data.des)
			}
		},
		complete: function() {
			setTimeout(function(){
				$("#queryButton").removeAttr("disabled");
			},4000);
		},
		error : function() {
			alert("提交查询请求时，与服务器通讯失败");
		}
	});
}


</script>
</body>
</html>